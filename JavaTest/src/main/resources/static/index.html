<!doctype html>
<html>
<head>
    <title>FullStack app - Java / AngularJS</title>
    <link href="css/angular-bootstrap.css" rel="stylesheet">
    <style type="text/css">
[ng\:cloak], [ng-cloak], .ng-cloak {
  display: none !important;
}
    </style>
</head>

<body ng-app="FullStackApp">
<div ng-controller="departments" class="container">
    <h1>Gestion des employés</h1>
    <div ng-cloak class="ng-cloak">
        <h3>Départements</h3>
        <ul>
            <li ng-repeat="department in departments">{{ department.name }}</li>
        </ul>
        <div>
            Département
            <input type="text" ng-model="departmentName"/>
            <button ng-click="addDepartement()">Ajouter</button>
        </div>
    </div>
    <div ng-controller="employees" ng-cloak class="ng-cloak">
        <h3>Employés</h3>
        <ul>
            <li ng-repeat="employee in employees">
                <div>
                    Nom: {{employee.firstName}} {{employee.lastName}}<br/>
                    <ul>
                        <li>ID: {{employee.id}}</li>
                        <li>Salaire: {{employee.salary}} $</li>
                        <li>Département: {{employee.department.name}}</li>
                    </ul>
                    <div>
                        <h5>Edition</h5>
                        <div class="form-group">
                            <label class="control-label">Salaire</label>
                            <input class="form-control" type="text" ng-model="employee.salary"/>
                        </div>
                        
                        <div class="ng-cloak form-group">
                            <label class="control-label">Département</label>
                            <select class="form-control" ng-model="employee.department.name">
                                <option value="{{department.id}}" ng-repeat="department in departments">{{ department.name }}</option>
                            </select>
                        <div>
                        
                        <div class="form-group">
                            <button ng-click="updateEmployee()">Update</button>
                        </div>
                    </div>
                    <hr/>
                </div>
            </li>
        </ul>
    </div>
</div>
<script src="js/angular-bootstrap.js" type="text/javascript"></script>
<script src="js/FullStackApp.js"></script>
</body>
</html>